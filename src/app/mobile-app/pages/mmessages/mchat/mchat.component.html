<div class="chat-window-component" *ngIf="chat">
    <div class="chat-window-header">
        <div class="chat-header-left">
            <div class="chat-back">
                <button type="button" (click)="back()"><svg xmlns="http://www.w3.org/2000/svg" width="47" height="47"
                        viewBox="0 0 47 47" fill="none">
                        <rect x="2" width="43" height="43" rx="9" fill="#F8F8F8" />
                        <g filter="url(#filter0_di_363_248)">
                            <rect x="4.38892" y="2.38892" width="38.2222" height="38.2222" rx="7"
                                fill="url(#paint0_linear_363_248)" />
                        </g>
                        <g filter="url(#filter1_i_363_248)">
                            <path
                                d="M21.3152 21.4208C21.3808 21.4208 21.4464 21.4208 21.5116 21.4208C24.7779 21.4208 28.0448 21.4203 31.3111 21.4213C32.0898 21.4213 32.6997 21.862 32.8883 22.5552C33.1653 23.5719 32.4391 24.5253 31.3695 24.5375C30.5753 24.5462 29.7812 24.5394 28.9875 24.5394C26.497 24.5394 24.0064 24.5394 21.5159 24.5394C21.4498 24.5394 21.3837 24.5394 21.307 24.5394C21.3147 24.6207 21.3798 24.6513 21.4213 24.6931C22.2917 25.5756 23.1684 26.4522 24.0344 27.3385C24.5386 27.8541 24.6351 28.5911 24.2998 29.1992C23.8019 30.102 22.6106 30.2762 21.8676 29.5436C21.2221 28.9068 20.5895 28.2564 19.9517 27.6119C18.8116 26.4604 17.6715 25.309 16.5314 24.1571C15.8237 23.442 15.8227 22.5192 16.5295 21.8051C18.2823 20.0339 20.0337 18.2622 21.788 16.4935C22.5552 15.72 23.7666 15.8781 24.2699 16.8111C24.6023 17.4275 24.4899 18.1625 23.9756 18.684C23.1307 19.5411 22.2835 20.3953 21.4358 21.2491C21.3905 21.2948 21.3335 21.3293 21.2819 21.3692C21.2935 21.3862 21.3041 21.4037 21.3152 21.4208Z"
                                fill="#569AFF" />
                        </g>
                        <defs>
                            <filter id="filter0_di_363_248" x="0.388916" y="0.388916" width="46.2222" height="46.2222"
                                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
                                <feOffset dy="2" />
                                <feGaussianBlur stdDeviation="2" />
                                <feComposite in2="hardAlpha" operator="out" />
                                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0" />
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_363_248" />
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_363_248"
                                    result="shape" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
                                <feOffset dy="1" />
                                <feGaussianBlur stdDeviation="0.5" />
                                <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1" />
                                <feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0" />
                                <feBlend mode="normal" in2="shape" result="effect2_innerShadow_363_248" />
                            </filter>
                            <filter id="filter1_i_363_248" x="16" y="16" width="16.9475" height="15"
                                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
                                <feOffset dy="1" />
                                <feGaussianBlur stdDeviation="0.5" />
                                <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1" />
                                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" />
                                <feBlend mode="normal" in2="shape" result="effect1_innerShadow_363_248" />
                            </filter>
                            <linearGradient id="paint0_linear_363_248" x1="23.5" y1="2.38892" x2="23.5" y2="40.6111"
                                gradientUnits="userSpaceOnUse">
                                <stop stop-color="#F4F4F4" />
                                <stop offset="1" stop-color="#F8F8F8" />
                            </linearGradient>
                        </defs>
                    </svg></button>
            </div>
            <div class="chat-user-info">
                <div class="chat-user-thumb">
                    <img onContextMenu="return false;" class="author-img"
                        [src]=" selectedChat.image ?  selectedChat.image : '../../../assets/img/defaultProfile.jpeg'" alt=""
                        loading="lazy">
                    <!-- <div class="parti_name" *ngIf="selectedChat.image == null || selectedChat.image == ''">
                        {{selectedChat?.name.charAt(0)}}
                    </div> -->
                    <!-- <div class="author-img" ngIf="selectedChat.image == null || selectedChat.image == ''">
                        <img onContextMenu="return false;" [src]="'assets/img/defaultProfile.jpeg'"
                            style="width: 100px;" alt="" loading="lazy">
                    </div> -->
                </div>
                <div class="chat-user-information" *ngIf="selectedChat && selectedChat.type == 'group'">
                    <div class="chat-user-name header-text">
                        <span *ngIf="selectedChat">{{selectedChat.name}} {{selectedChat.lastName}}</span><br />
                        <span>{{language.community_groups.group}}</span>
                        <!-- <span *ngFor="let member of selectedChat.members; let i = index">
                            <span *ngIf="member" class="to-username" tooltip="{{member.username}}" placement="bottom"
                                delay="500">{{member.firstname}}<span
                                    *ngIf="i != (selectedChat.members.length-1)">,</span></span>
                        </span> -->
                    </div>
                </div>
                <div class="chat-user-information" *ngIf="selectedChat && selectedChat.type=='individual'">
                    <div class="chat-user-name header-text">
                        <span class="to-username" tooltip="{{selectedChat.name}}" placement="bottom"
                            delay="500">{{selectedChat.name}} {{selectedChat.lastName}}</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="event-action">
            <button mat-button (click)="drawer.toggle()"><img onContextMenu="return false;"
                    src="../../../../assets/img/new-design/dashboard/event-action.svg" alt="" loading="lazy"></button>
        </div>
    </div>
    <div class="chat-conversation-area" (scroll)="scrolled($event)" #scrollBottom>
        <div class="chat-conversation-inner" *ngFor="let data of finalMessages; let i = index" #item>
            <div class="chat-sendar">
                <div class="chat-time"
                    *ngIf=" i == 0 || (data.msg.timestamp | date: 'dd. MMMM yyyy') != (finalMessages[i-1].msg.timestamp | date: 'dd. MMMM yyyy')">
                    <div class="chat-time-bubble">
                        <Span> {{data.msg.timestamp| date: "dd MMM" }}</Span>
                    </div>
                </div>
            </div>
            <div class="chat-reciever">
                <div class="chat-conversation-bubble" *ngIf="data && data.sender_id == this.userDetails.userId">
                    <div class="chat-bubble-info">
                        <span
                            *ngIf="data && data.sender_id == this.userDetails.userId && data.sender && selectedChat.type =='group'">You</span>
                        <!-- <span>{{data.msg.timestamp | date: ' h:mm a'}}</span> -->
                        <span>{{data.msg.timestamp | date: "HH:mm"}}</span>


                    </div>
                    <div class="chat-bubble chat-blue" *ngIf="data && data.msg && data.msg.messageType == 'text' ">
                        <p>{{data.msg.message}}</p>
                    </div>
                    <div class="chat-bubble chat-blue chat-media-image"
                        *ngIf="data && data.msg && data.msg.messageType == 'image' ">
                        <img onContextMenu="return false;" [src]="data.msg.message" alt="" loading="lazy"
                            (click)="previewImage(i,data.msg.message)">
                    </div>
                </div>
            </div>
            <div class="chat-sendar">
                <div class="chat-conversation-bubble" *ngIf="data && data.sender_id != this.userDetails.userId">
                    <div class="chat-bubble-info">
                        <span
                            *ngIf="data && data.sender_id != userDetails.userId && data.sender && selectedChat.type =='group'">{{data.sender.firstname}}</span>
                        <!-- <span>{{data.msg.timestamp | date: ' h:mm a'}}</span> -->
                        <span>{{data.msg.timestamp | date: "HH:mm"}}</span>
                    </div>
                    <div class="chat-bubble chat-white" *ngIf="data && data.msg && data.msg.messageType == 'text' ">
                        <p>{{data.msg.message}}</p>
                    </div>
                    <div class="chat-bubble chat-blue chat-media-image"
                        *ngIf="data && data.msg && data.msg.messageType == 'image' ">
                        <img onContextMenu="return false;" [src]="data.msg.message" alt="" loading="lazy"
                            (click)="previewImage(i,data.msg.message)">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-form-area">
        <form [formGroup]="chatForm" (ngSubmit)='messageProcess()'>
            <div class="form-input-area">
                <div class="user-chat-thumb" *ngIf="userDetails.image != null && userDetails.image != ''">
                    <img onContextMenu="return false;"
                        [src]=" userDetails.image ?  userDetails.image : '../../../assets/img/no_image.png'" alt=""
                        loading="lazy">
                </div>
                <!-- <div class="parti_name" *ngIf="userDetails.image == null || userDetails.image == ''">
                    {{userDetails?.firstName.charAt(0)}}
                </div> -->
                <div class="author-img" *ngIf="userDetails.image == null || userDetails.image == ''">
                    <img onContextMenu="return false;" [src]="'assets/img/defaultProfile.jpeg'" style="width: 100px;"
                        alt="" loading="lazy">
                </div>
                <div class="user-chat-input">
                    <input type="text" formControlName="message" name="message"
                        placeholder="{{language.create_message.compose_replay}}" />
                </div>
                <div class="capture-pic button">
                    <button type="button"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="19"
                            viewBox="0 0 25 19" fill="none">
                            <path
                                d="M4.25223 19C4.11457 18.8841 3.93645 18.9056 3.77791 18.8678C1.57003 18.3396 0.015253 16.4021 0.00677123 14.1337C-0.00171056 11.8392 -0.00301545 9.54475 0.00742367 7.25029C0.0191677 4.56832 2.18855 2.40998 4.87075 2.39696C5.7248 2.39305 6.57885 2.39305 7.43291 2.39956C7.56992 2.40086 7.65604 2.36114 7.73368 2.24781C7.88505 2.02703 8.04751 1.81276 8.21454 1.60305C8.81218 0.852123 9.58859 0.450283 10.5529 0.445073C11.8545 0.437909 13.1562 0.437258 14.4571 0.445073C15.4012 0.450935 16.1672 0.839097 16.7635 1.56788C16.7792 1.58677 16.7929 1.60696 16.8072 1.62649C17.0004 1.87724 17.1446 2.23088 17.399 2.35137C17.673 2.48032 18.0502 2.38849 18.3822 2.39696C19.1782 2.41715 19.9762 2.34941 20.7708 2.44189C22.7791 2.67636 24.5328 4.31953 24.9054 6.31049C24.9295 6.43945 24.9093 6.58208 25 6.6954C25 9.38127 25 12.0665 25 14.7524C24.9087 14.8188 24.9341 14.9269 24.9152 15.0142C24.48 16.9804 23.2925 18.2478 21.3711 18.83C21.1219 18.9056 20.8615 18.9447 20.6064 19C20.4603 19 20.3135 19 20.1673 19C20.0956 18.9199 19.9997 18.9525 19.9142 18.9525C14.9569 18.9512 9.99963 18.9512 5.04235 18.9525C4.95688 18.9525 4.86162 18.9199 4.7892 19C4.61043 19 4.431 19 4.25223 19ZM12.4861 17.0455C15.0163 17.0455 17.5458 17.0494 20.076 17.0442C21.7521 17.041 23.044 15.7488 23.0466 14.077C23.0505 11.8229 23.0505 9.56949 23.0466 7.31542C23.044 5.64033 21.7521 4.3534 20.0773 4.35079C19.0445 4.34884 18.011 4.34819 16.9782 4.3521C16.6011 4.3534 16.3029 4.21403 16.0778 3.90858C15.8129 3.54842 15.5402 3.19412 15.2746 2.83462C15.0561 2.53828 14.7697 2.39435 14.3984 2.39565C13.1372 2.40021 11.8767 2.40087 10.6155 2.39565C10.2345 2.39435 9.94417 2.54219 9.72103 2.84764C9.47245 3.18956 9.20821 3.51976 8.96289 3.86429C8.72083 4.20426 8.40309 4.35731 7.98618 4.3534C6.9775 4.34428 5.96882 4.35014 4.96014 4.35079C3.23833 4.3521 1.95889 5.63186 1.95758 7.35645C1.95628 9.58578 1.95693 11.8151 1.95824 14.0444C1.95824 14.1825 1.95758 14.3225 1.97781 14.458C2.20421 16.0035 3.40536 17.0436 4.96927 17.0449C7.47466 17.0468 9.98071 17.0455 12.4861 17.0455ZM20.1673 19C20.0956 18.9199 19.9997 18.9525 19.9142 18.9525C14.9569 18.9512 9.99963 18.9512 5.04235 18.9525C4.95688 18.9525 4.86162 18.9199 4.7892 19C9.91546 19 15.0411 19 20.1673 19ZM12.5083 5.32641C15.2029 5.32836 17.3892 7.52122 17.3847 10.2182C17.3801 12.908 15.1761 15.1008 12.4854 15.0917C9.80585 15.0826 7.62146 12.8891 7.62081 10.2077C7.62081 7.51341 9.81238 5.32446 12.5083 5.32641ZM12.5128 7.2796C10.8961 7.27634 9.57554 8.58997 9.57358 10.2025C9.57227 11.8138 10.8948 13.1392 12.5044 13.1385C14.1042 13.1379 15.4254 11.8216 15.4312 10.2234C15.4378 8.6069 14.1244 7.28285 12.5128 7.2796ZM20.1086 6.30333C19.5697 6.30724 19.1384 6.7462 19.1423 7.28741C19.1469 7.82276 19.5925 8.26042 20.1275 8.25521C20.6632 8.25 21.0984 7.80518 21.0938 7.26787C21.0892 6.72861 20.6508 6.29942 20.1086 6.30333Z"
                                fill="#9CACCD"></path>
                        </svg><input type="file" (change)="uploadFile($event)">
                    </button>
                </div>
            </div>
            <div class="chat-send-button">
                <button type="submit">
                    <svg _ngcontent-dvn-c96="" xmlns="http://www.w3.org/2000/svg" width="26" height="22"
                        viewBox="0 0 26 22" fill="none">
                        <path _ngcontent-dvn-c96=""
                            d="M26 11.404C25.8772 11.6456 25.846 11.919 25.7125 12.16C25.3995 12.7275 24.9191 13.0928 24.3224 13.3356C20.1943 15.0144 16.0674 16.6957 11.9399 18.3758C9.17573 19.5014 6.41155 20.6277 3.64674 21.7533C2.3922 22.264 1.20447 21.9731 0.465868 20.9605C0.0230901 20.3536 -0.102872 19.6725 0.0828905 18.9495C0.685348 16.6052 1.29862 14.2634 1.8979 11.9178C1.94306 11.7417 2.03722 11.7511 2.167 11.7511C5.11185 11.7523 8.05606 11.753 11.0009 11.7517C11.5048 11.7517 11.8375 11.4577 11.8438 11.0181C11.8489 10.6204 11.5601 10.3008 11.1549 10.2627C11.0626 10.254 10.9691 10.2577 10.8756 10.2577C7.98163 10.2577 5.08831 10.2552 2.19435 10.2627C1.99459 10.2633 1.92716 10.2059 1.88008 10.0211C1.29926 7.75669 0.709522 5.49477 0.119789 3.23223C-0.208477 1.97048 0.256566 0.851699 1.37496 0.276699C2.09447 -0.0928988 2.82989 -0.0754178 3.57549 0.229251C7.35882 1.77382 11.1441 3.31215 14.9287 4.8536C18.0434 6.12159 21.1562 7.39521 24.2747 8.65634C25.1952 9.02843 25.8009 9.63964 25.965 10.6261C25.9669 10.6379 25.9879 10.646 26 10.6567C26 10.9058 26 11.1549 26 11.404Z"
                            fill="#6E63EE"></path>
                    </svg>
                </button>
            </div>
        </form>
    </div>
    <!-- Modal -->
</div>
<div class="chat-action-toggle">
    <div class="course-filter">
        <mat-drawer-container class="example-container" [opened]="isShowing" autosize>
            <mat-drawer #drawer class="example-sidenav" mode="side" position="end">
                <div class="drower-close"><mat-icon class="close" (click)="drawer.close()"><svg
                            xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <circle cx="12" cy="12" r="12" fill="#EBEBEB" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M15.2247 10.8364C15.5825 10.4785 15.9404 10.1174 16.2999 9.76116C16.4078 9.65331 16.5009 9.53075 16.5712 9.39512C16.9078 8.74149 16.6497 7.93755 15.9961 7.60098C15.4896 7.33956 14.8735 7.42947 14.4634 7.82656C13.7051 8.57173 12.9567 9.32343 12.2099 10.08C12.1053 10.1879 12.0547 10.1797 11.955 10.0768C11.2328 9.34477 10.5024 8.62093 9.77857 7.89382C9.63969 7.7484 9.47139 7.6324 9.28674 7.55234C8.607 7.27459 7.82918 7.60144 7.55135 8.28122C7.35034 8.77308 7.46142 9.33518 7.83069 9.71425C8.5725 10.4659 9.31922 11.2126 10.0708 11.9511C10.1852 12.0622 10.177 12.1162 10.0676 12.2224C9.32729 12.9528 8.59356 13.6931 7.85657 14.4301C7.32875 14.9448 7.32053 15.7896 7.83685 16.3158C7.96757 16.4498 8.12607 16.556 8.3009 16.6229C8.7813 16.8353 9.34178 16.7226 9.70619 16.3451C10.4693 15.6048 11.2145 14.8498 11.9613 14.0932C12.0642 13.987 12.1165 13.9936 12.2178 14.0949C12.9498 14.8367 13.69 15.5703 14.4253 16.3089C14.6998 16.603 15.0952 16.7533 15.4956 16.7124C16.2276 16.6535 16.7734 16.0097 16.7114 15.2777C16.6853 14.9705 16.5545 14.6829 16.3421 14.4607C15.6052 13.7041 14.8552 12.9607 14.102 12.2205C13.9876 12.1094 13.9958 12.0555 14.1053 11.9493C14.4828 11.5849 14.8521 11.209 15.2247 10.8364Z"
                                fill="white" />
                        </svg></mat-icon>
                </div>
                <div class="single-user-panel" *ngIf="selectedChat">
                    <!-- single user header start -->
                    <div class="single-user-header">
                        <img onContextMenu="return false;" *ngIf="userDetails.image != null && userDetails.image != ''"
                            [src]=" userDetails.image ?  userDetails.image : '../../../assets/img/no_image.png'" alt=""
                            loading="lazy">
                        <!-- <div class="parti_name" *ngIf="userDetails.image == null || userDetails.image == ''">
                            {{userDetails?.firstName.charAt(0)}}
                        </div> -->
                        <div class="author-img" *ngIf="userDetails.image == null || userDetails.image == ''">
                            <img onContextMenu="return false;" [src]="'assets/img/defaultProfile.jpeg'"
                                style="width: 100px;" alt="" loading="lazy">
                        </div>
                        <h2> {{userDetails?.firstName}} {{userDetails?.lastName}}</h2>
                        <div class="user-status">
                        </div>
                    </div>
                    <!-- single user header end -->
                    <div class="single-user-media">
                        <div class="media-heading">
                            <h3>{{language.community_messages.media_link_doc}}</h3>
                            <span class="media-heading-right">{{selectedChatMedia.length}}&nbsp;&nbsp; <svg
                                    xmlns="http://www.w3.org/2000/svg" width="7" height="14" viewBox="0 0 7 14"
                                    fill="none">
                                    <path
                                        d="M6.99895 6.70516C6.99895 6.5702 6.99895 6.43524 7 6.30137C6.88454 5.24655 6.46784 4.33532 5.74256 3.58496C4.74438 2.55281 3.7357 1.53254 2.72387 0.516587C2.05106 -0.158195 1.10326 -0.170072 0.473491 0.470162C-0.167824 1.12227 -0.159428 2.12095 0.516525 2.81733C1.45068 3.78038 2.40268 4.72615 3.34209 5.68489C4.1377 6.49678 4.13665 7.5095 3.34209 8.31816C2.39219 9.28553 1.43284 10.2421 0.489235 11.2149C-0.0156298 11.7353 -0.127939 12.4036 0.143911 13.0362C0.406315 13.6473 1.0004 14.0295 1.64801 13.9982C2.05736 13.9788 2.40688 13.8093 2.69763 13.5145C3.73255 12.464 4.77691 11.4222 5.79714 10.3565C6.49618 9.62562 6.88454 8.72519 7 7.70168C7 7.56672 6.99895 7.43176 6.99895 7.29789C6.99895 7.10031 6.99895 6.90273 6.99895 6.70516Z"
                                        fill="#98A2C3" />
                                </svg></span>
                        </div>
                        <div class="media-image-list">
                            <div class="media-image" *ngFor='let media of selectedChatMedia'>
                                <div class="media-img"><img onContextMenu="return false;" [src]="media.message" alt=""
                                        loading="lazy">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="common-group-list" *ngIf="selectdChatCommonGroup.length>0">
                        <div class="media-heading">
                            <h3>{{selectdChatCommonGroup.length}} Group in common</h3>
                        </div>
                        <div class="common-group-list-inner">
                            <div class="common-group-item" *ngFor='let commonGroup of selectdChatCommonGroup'>
                                <div class="c-group-img">
                                    <img onContextMenu="return false;"
                                        *ngIf="commonGroup.image != null && commonGroup.image != ''"
                                        [src]="commonGroup.image" alt="" loading="lazy">
                                    <!-- <div class="parti_name"
                                        *ngIf="commonGroup.image == null || commonGroup.image == ''">
                                        {{commonGroup?.name.charAt(0)}}
                                    </div> -->
                                    <div class="author-img"
                                        *ngIf="commonGroup.image == null || commonGroup.image == ''">
                                        <img onContextMenu="return false;" [src]="'assets/img/defaultProfile.jpeg'"
                                            style="width: 100px;" alt="" loading="lazy">
                                    </div>
                                </div>
                                <div class="c-content">
                                    <span class="c-group-name">{{commonGroup.name}}</span>
                                    <div class="c-group-footer">
                                        <div class="joined-user">
                                            <span class="total-joiny"
                                                *ngIf="commonGroup && commonGroup.participants">{{commonGroup.participants.length}}
                                                members</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="delete-chat-action">
                        <button type="button" (click)="deleteChat()"><svg xmlns="http://www.w3.org/2000/svg" width="16"
                                height="17" viewBox="0 0 16 17" fill="none">
                                <path
                                    d="M5.16175 0C6.7134 0 8.25688 0 9.80035 0C9.80852 0.00816655 9.82485 0.0244997 9.83302 0.0244997C10.6987 0.163331 11.2458 0.669658 11.5153 1.48631C11.6297 1.82931 11.597 2.18864 11.5888 2.54797C11.5888 2.67863 11.6052 2.72763 11.7603 2.72763C12.577 2.71946 13.3936 2.71946 14.2021 2.72763C14.2675 2.72763 14.3328 2.72763 14.39 2.7358C14.7575 2.7848 15.0188 3.08696 15.0024 3.43812C14.9861 3.81378 14.6921 4.09144 14.3083 4.09144C14.1123 4.09144 13.9163 4.09961 13.7203 4.09144C13.6223 4.08328 13.5978 4.12411 13.5978 4.21394C13.5733 4.70394 13.5406 5.19393 13.5161 5.67576C13.4508 6.92524 13.3773 8.16655 13.312 9.41604C13.2221 11.0493 13.1241 12.6745 13.0425 14.3078C12.969 15.5001 12.1115 16.3331 10.9028 16.3331C8.63254 16.3331 6.36223 16.3331 4.09193 16.3331C2.88328 16.3331 2.00946 15.4838 1.96046 14.2833C1.91963 13.2543 1.84613 12.2253 1.78896 11.1963C1.71546 9.75087 1.6338 8.30539 1.55213 6.85991C1.50313 5.97792 1.45414 5.08776 1.40514 4.20578C1.39697 4.10778 1.38064 4.07511 1.27447 4.08328C1.07031 4.09144 0.866143 4.09144 0.653813 4.08328C0.229152 4.06694 -0.064844 3.68312 0.0168215 3.26662C0.0821539 2.93179 0.35165 2.71946 0.735478 2.71946C1.42964 2.71946 2.13196 2.71946 2.82612 2.71946C3.01395 2.71946 3.20994 2.7358 3.39777 2.70313C3.39777 2.5153 3.40594 2.33563 3.40594 2.1478C3.40594 2.0988 3.40594 2.04981 3.40594 2.00081C3.44677 1.15965 3.84694 0.555326 4.59826 0.179664C4.77792 0.0979987 4.98209 0.073499 5.16175 0ZM7.48105 2.71946C8.34671 2.71946 9.22053 2.71946 10.0862 2.71946C10.2005 2.71946 10.2332 2.69496 10.225 2.58063C10.2168 2.3928 10.225 2.1968 10.2168 2.00897C10.2005 1.64964 9.93102 1.37198 9.57169 1.37198C8.18338 1.36381 6.80323 1.36381 5.41491 1.37198C5.05559 1.37198 4.78609 1.65781 4.76976 2.00897C4.76159 2.1968 4.77792 2.3928 4.76159 2.58063C4.76159 2.69496 4.79426 2.71946 4.90859 2.71946C5.76608 2.71946 6.62356 2.71946 7.48105 2.71946ZM5.45575 9.53854C5.45575 8.86888 5.45575 8.19922 5.45575 7.52956C5.45575 7.1049 5.16992 6.80274 4.77792 6.80274C4.38593 6.80274 4.09193 7.11307 4.08377 7.52956C4.08377 8.86071 4.08377 10.2 4.08377 11.5312C4.08377 11.9558 4.37776 12.258 4.76976 12.2498C5.16175 12.2498 5.44758 11.9395 5.44758 11.5148C5.45575 10.8615 5.45575 10.2 5.45575 9.53854ZM10.911 9.53854C10.911 8.89338 10.911 8.24005 10.911 7.5949C10.911 7.51323 10.9028 7.43156 10.8947 7.35807C10.8293 7.02324 10.5272 6.78641 10.1923 6.81091C9.84119 6.83541 9.54719 7.11307 9.54719 7.46423C9.53902 8.84438 9.53902 10.2245 9.54719 11.6047C9.54719 11.8497 9.66969 12.0375 9.89019 12.16C10.3557 12.4295 10.911 12.0947 10.911 11.5312C10.911 10.8615 10.911 10.2 10.911 9.53854ZM8.17521 9.53854C8.17521 8.84438 8.18338 8.15839 8.17521 7.46423C8.16704 7.08857 7.86488 6.80274 7.49739 6.80274C7.13806 6.80274 6.82773 7.08857 6.82773 7.45606C6.81956 8.83621 6.82773 10.2164 6.82773 11.5965C6.82773 11.7435 6.87673 11.8742 6.97473 11.9885C7.15439 12.2172 7.44839 12.2988 7.71788 12.209C7.98738 12.1192 8.17521 11.8742 8.18338 11.5883C8.18338 10.9105 8.17521 10.2245 8.17521 9.53854Z"
                                    fill="#F46565" />
                            </svg> &nbsp;&nbsp;{{language.community_messages.delete_chat}}
                        </button>
                    </div>
                </div>
            </mat-drawer>
        </mat-drawer-container>
    </div>
</div>
<ng-container *ngIf="!chat">
    <app-mchat-list></app-mchat-list>
</ng-container>
<div class="modal fade" id="imagePriview" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" (click)="closePreviewImage()" class="close" data-dismiss="modal"
                    aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="image-view">
                    <img onContextMenu="return false;" [src]="preImage" alt="" loading="lazy">
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="selectedImage" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" (click)="unselectImage()" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="image-view">
                    <img onContextMenu="return false;" class="preview_img" src="">
                    <label class="preview_txt" style="display: none;"></label>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal"
                    (click)="unselectImage()">{{language.create_event.cancel}}</button>
                <button type="submit" class="btn btn-primary"
                    (click)="messageProcess()">{{language.profile.submit}}</button>
            </div>
        </div>
    </div>
</div>
