<mat-form-field  appearance="fill">
    <mat-label>
        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">
        <path d="M0.00910226 7.48914C-0.000382009 7.26109 0.051783 7.04806 0.155162 6.84441C0.576267 6.01199 1.57307 5.74734 2.38683 6.27382C3.53349 7.01615 4.67161 7.77068 5.80593 8.53178C5.98993 8.65566 6.11133 8.66317 6.30007 8.53647C7.41353 7.78757 8.53458 7.049 9.66037 6.31793C10.3613 5.86277 11.2566 6.0439 11.7261 6.71772C12.1955 7.3906 12.0523 8.31312 11.3675 8.7739C9.88325 9.77337 8.38852 10.7569 6.88904 11.7338C6.35792 12.0792 5.78222 12.0933 5.2511 11.7479C3.70041 10.7419 2.16205 9.718 0.625586 8.69038C0.206377 8.40978 0.0128959 7.99028 0.00910226 7.48914ZM1.54841 0.00203327C1.86045 -0.0186128 2.16774 0.120281 2.45796 0.312667C3.56763 1.04655 4.68299 1.77293 5.78507 2.51807C5.99562 2.66072 6.13409 2.64476 6.33611 2.50962C7.42017 1.78043 8.51371 1.06344 9.60726 0.347392C10.347 -0.136858 11.2575 0.0273732 11.7308 0.722778C12.2192 1.43977 12.0267 2.33507 11.2708 2.83621C9.85764 3.7728 8.43784 4.70001 7.02941 5.64411C6.37499 6.08238 5.74618 6.09082 5.08987 5.64974C4.02477 4.93369 2.94925 4.23359 1.87847 3.52598C1.44598 3.24069 1.00401 2.9676 0.588596 2.65978C0.0688542 2.27594 -0.122728 1.61245 0.0783396 1.0259C0.290789 0.410267 0.849417 0.00766371 1.54841 0.00203327Z" fill="#999999"/>
        </svg>
    </mat-label>
    <mat-select matNativeControl [(value)]="selected" (selectionChange)="onSelect($event.value)">
        <mat-option value="1">{{this.language.community_messages.inbox}}</mat-option>
        <mat-option value="2">{{this.language.community_messages.starred}}</mat-option>
        <mat-option value="3">{{this.language.community_messages.sent}}</mat-option>
        <mat-option value="4">{{this.language.community_messages.drafts}}</mat-option>
        <mat-option value="5">{{this.language.community_messages.allmail}}</mat-option>
        <mat-option value="6">{{this.language.community_messages.trash }}</mat-option>
    </mat-select>
</mat-form-field>


<div class="card club_msg_main" *ngIf="isClublList == true">
    <div class="card-body ">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="tab-content">
                    <div class="tab-pane active">
                        <ng-container>
                            <div class="feature_tab">
                                <!-- <mat-form-field appearance="fill">
                                    <mat-label>{{language.create_task.select_placeholder}}</mat-label>
                                    <mat-select>
                                        <mat-option *ngFor="let selections of select" [value]="selections.value"
                                            [selected]="value == 1" (click)="onSelect(selections.value)">
                                            {{selections.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field> -->
                            </div>
                            <ng-container *ngIf="clubInbox">
                                <div *ngIf="clubMessage && clubMessage.length == 0" class="empty-data-image">
                                    <!-- <img  onContextMenu="return false;" alt="" loading="lazy" src="../assets/img/no_record_img.png"><br> -->
                                    <span>{{language.community_messages.clubMessages}}</span>
                                </div>
                                <ng-container *ngIf="clubMessage && clubMessage.length > 0">
                                    <div class="chat_messager-widget">
                                        <div class="chat-sidebar">
                                            <div class="chat-search">
                                                <form>
                                                    <div class="input-group no-border">
                                                        <div class="input-group-append">
                                                            <div class="input-group-text">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="assets/img/Search.svg">
                                                            </div>
                                                        </div>
                                                        <input type="text" value="" class="form-control"
                                                            placeholder="{{language.community_messages.search}}...">
                                                    </div>
                                                </form>
                                            </div>
                                            <!-- user club info -->
                                            <!-- chat sidebar widget start -->
                                            <div class="widget-chat widget">
                                                <!-- user club info inner -->
                                                <div class="widget-app-content" *ngFor='let msg of clubMessage'>
                                                    <div class="app-main-content"
                                                        (click)="clickMessages(msg.id, msg.esdb_id)"
                                                        id="message-{{msg.id}}">
                                                        <div class="app-left-content">
                                                            <div class="user-img" *ngIf="msg.user">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    [src]=" msg.user.image ?  msg.user.image : 'assets/img/defaultProfile.jpeg'">
                                                            </div>
                                                            <div class="user-content">
                                                                <h6 class="user-name" *ngIf="msg.user">
                                                                    {{msg.user.firstName}} {{msg.user.lastName}}</h6>
                                                                <span>{{msg.subject}}</span>
                                                                <p>{{msg.content}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="app-right-content">
                                                            <span class="seen-time">{{msg.created_at | date: 'd. MMMM y'
                                                                }} <br> {{msg.created_at | date: 'HH:mm': 'GMT+2' }}
                                                            </span>
                                                            <i *ngIf="msg.is_read == 0" id="envelope-{{msg.id}}"
                                                                class="fa fa-envelope-o" aria-hidden="true"></i>
                                                            <i *ngIf="msg.is_read == 1" id="envelope-open-{{msg.id}}"
                                                                class="fa fa-envelope-open-o" aria-hidden="true"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- user club info inner -->
                                            </div>
                                            <!-- user club info End-->
                                            <div class="chat-bottom-overlay"></div>
                                        </div>
                                        <!-- <div class="chat-divider"></div> -->
                                    </div>
                                </ng-container>
                            </ng-container>
                            <ng-container *ngIf="clubStarred">
                                <div *ngIf="clubMessage && clubMessage.length == 0" class="empty-data-image">
                                    <!-- <img onContextMenu="return false;" alt="" loading="lazy" src="../assets/img/no_record_img.png"><br> -->
                                        <span>{{language.community_messages.clubStarredMessages}}</span>
                                </div>
                                <ng-container *ngIf="clubMessage && clubMessage.length > 0">
                                    <div class="chat_messager-widget">
                                        <div class="chat-sidebar">
                                            <div class="chat-search">
                                                <form>
                                                    <div class="input-group no-border">
                                                        <div class="input-group-append">
                                                            <div class="input-group-text">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="assets/img/Search.svg">
                                                            </div>
                                                        </div>
                                                        <input type="text" value="" class="form-control"
                                                            placeholder="{{language.community_messages.search}}...">
                                                    </div>
                                                </form>
                                            </div>
                                            <!-- user club info -->
                                            <!-- chat sidebar widget start -->
                                            <div class="widget-chat widget">
                                                <!-- user club info inner -->
                                                <div class="widget-app-content" *ngFor='let msg of clubMessage'>
                                                    <div class="app-main-content"
                                                        (click)="clickMessages(msg.id, msg.esdb_id)"
                                                        id="message-{{msg.id}}">
                                                        <div class="app-left-content">
                                                            <div class="user-img" *ngIf="msg.user">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    [src]=" msg.user.image ?  msg.user.image : 'assets/img/defaultProfile.jpeg'">
                                                            </div>
                                                            <div class="user-content">
                                                                <h6 class="user-name" *ngIf="msg.user">
                                                                    {{msg.user.firstName}} {{msg.user.lastName}}</h6>
                                                                <span>{{msg.subject}}</span>
                                                                <p>{{msg.content}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="app-right-content">
                                                            <span class="seen-time">{{msg.created_at | date: 'd. MMMM y' }} <br> {{msg.created_at | date: 'HH:mm': 'GMT+2' }}
                                                            </span>
                                                            <i *ngIf="msg.is_read == 0" class="fa fa-envelope-o" aria-hidden="true"></i>
                                                            <i *ngIf="msg.is_read == 1" class="fa fa-envelope-open-o"  aria-hidden="true"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- user club info inner -->
                                            </div>
                                            <!-- user club info End-->
                                            <div class="chat-bottom-overlay"></div>
                                        </div>
                                        <!-- <div class="chat-divider"></div> -->
                                    </div>
                                </ng-container>
                            </ng-container>
                            <ng-container *ngIf="clubSent">
                                <div *ngIf="clubMessage && clubMessage.length == 0" class="empty-data-image">
                                    <!-- <img  onContextMenu="return false;" alt="" loading="lazy"
                                        src="../assets/img/no_record_img.png"><br> -->
                                        <span>{{language.community_messages.clubSentMessages}}</span>
                                </div>
                                <ng-container *ngIf="clubMessage && clubMessage.length > 0">
                                    <div class="chat_messager-widget">
                                        <div class="chat-sidebar">
                                            <div class="chat-search">
                                                <form>
                                                    <div class="input-group no-border">
                                                        <div class="input-group-append">
                                                            <div class="input-group-text">
                                                                <img onContextMenu="return false;" alt="" loading="lazy" src="assets/img/Search.svg">
                                                            </div>
                                                        </div>
                                                        <input type="text" value="" class="form-control"
                                                            placeholder="{{language.community_messages.search}}...">
                                                    </div>
                                                </form>
                                            </div>
                                            <!-- user club info -->
                                            <!-- chat sidebar widget start -->
                                            <div class="widget-chat widget">
                                                <!-- user club info inner -->
                                                <div class="widget-app-content" *ngFor='let msg of clubMessage'>
                                                    <div class="app-main-content"
                                                        (click)="clickMessages(msg.id, msg.esdb_id)"
                                                        id="message-{{msg.id}}">
                                                        <div class="app-left-content">
                                                            <div class="user-img" *ngIf="msg.user">
                                                                <img onContextMenu="return false;" alt="" loading="lazy" [src]=" msg.user.image ?  msg.user.image : 'assets/img/defaultProfile.jpeg'">
                                                            </div>
                                                            <div class="user-content">
                                                                <h6 class="user-name" *ngIf="msg.user">
                                                                    {{msg.user.firstName}} {{msg.user.lastName}}</h6>
                                                                <span>{{msg.subject}}</span>
                                                                <p>{{msg.content}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="app-right-content">
                                                            <span class="seen-time">{{msg.created_at | date: 'd. MMMM y'
                                                                }} <br> {{msg.created_at | date: 'HH:mm': 'GMT+2' }}
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- user club info inner -->
                                            </div>
                                            <!-- user club info End-->
                                            <div class="chat-bottom-overlay"></div>
                                        </div>
                                        <!-- <div class="chat-divider"></div> -->
                                    </div>
                                </ng-container>
                            </ng-container>
                            <ng-container *ngIf="clubDrafts">
                                <div *ngIf="clubMessage && clubMessage.length == 0" class="empty-data-image">
                                    <!-- <img onContextMenu="return false;" alt="" loading="lazy"
                                        src="../assets/img/no_record_img.png"><br> -->
                                        <span>{{language.community_messages.clubDraftMessages}}</span>
                                </div>
                                <ng-container *ngIf="clubMessage && clubMessage.length > 0">
                                    <div class="chat_messager-widget">
                                        <div class="chat-sidebar">
                                            <div class="chat-search">
                                                <form>
                                                    <div class="input-group no-border">
                                                        <div class="input-group-append">
                                                            <div class="input-group-text">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="assets/img/Search.svg">
                                                            </div>
                                                        </div>
                                                        <input type="text" value="" class="form-control"
                                                            placeholder="{{language.community_messages.search}}...">
                                                    </div>
                                                </form>
                                            </div>
                                            <!-- user club info -->
                                            <!-- chat sidebar widget start -->
                                            <div class="widget-chat widget">
                                                <!-- user club info inner -->
                                                <div class="widget-app-content" *ngFor='let msg of clubMessage'>
                                                    <div class="app-main-content"
                                                        (click)="clickDraftMessages(msg.id, msg.esdb_id)"
                                                        id="message-{{msg.id}}">
                                                        <div class="app-left-content">
                                                            <div class="user-img" *ngIf="msg.user">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    [src]=" msg.user.image ?  msg.user.image : 'assets/img/defaultProfile.jpeg'">
                                                            </div>
                                                            <div class="user-content">
                                                                <h6 class="user-name" *ngIf="msg.user">
                                                                    {{msg.user.firstName}} {{msg.user.lastName}}</h6>
                                                                <span>{{msg.subject}}</span>
                                                                <p>{{msg.content}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="app-right-content">
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- user club info inner -->
                                            </div>
                                            <!-- user club info End-->
                                            <div class="chat-bottom-overlay"></div>
                                        </div>
                                        <!-- <div class="chat-divider"></div> -->
                                    </div>
                                </ng-container>
                            </ng-container>
                            <ng-container *ngIf="clubAllMail">
                                <div *ngIf="clubMessage && clubMessage.length == 0" class="empty-data-image">
                                    <!-- <img onContextMenu="return false;" alt="" loading="lazy"
                                        src="../assets/img/no_record_img.png"><br> -->
                                        <span>{{language.community_messages.clubAllMessages}}</span>
                                </div>
                                <ng-container *ngIf="clubMessage && clubMessage.length > 0">
                                    <div class="chat_messager-widget">
                                        <div class="chat-sidebar">
                                            <div class="chat-search">
                                                <form>
                                                    <div class="input-group no-border">
                                                        <div class="input-group-append">
                                                            <div class="input-group-text">
                                                                <img onContextMenu="return false;" alt="" loading="lazy" src="assets/img/Search.svg">
                                                            </div>
                                                        </div>
                                                        <input type="text" value="" class="form-control"
                                                            placeholder="{{language.community_messages.search}}...">
                                                    </div>
                                                </form>
                                            </div>
                                            <!-- user club info -->
                                            <!-- chat sidebar widget start -->
                                            <div class="widget-chat widget">
                                                <!-- user club info inner -->
                                                <ng-container *ngFor='let msg of clubMessage'>
                                                    <div class="widget-app-content">
                                                        <div class="app-main-content"
                                                            (click)="clickMessages(msg.id, msg.esdb_id)"
                                                            id="message-{{msg.id}}">
                                                            <div class="app-left-content" *ngIf="msg.user">
                                                                <div class="user-img" *ngIf="msg.user">
                                                                    <img onContextMenu="return false;" alt="" loading="lazy" [src]=" msg.user.image ?  msg.user.image : 'assets/img/defaultProfile.jpeg'">
                                                                </div>
                                                                <div class="user-content">
                                                                    <h6 class="user-name" *ngIf="msg.user">
                                                                        {{msg.user.firstName}} {{msg.user.lastName}}
                                                                    </h6>
                                                                    <span>{{msg.subject}}</span>
                                                                    <p>{{msg.content}}</p>
                                                                </div>
                                                            </div>
                                                            <div class="app-right-content">
                                                                <span class="seen-time">{{msg.created_at | date: 'd. MMMM y' }} <br> {{msg.created_at | date: 'HH:mm': 'GMT+2' }} </span>
                                                                <i *ngIf="msg.is_read == 0" class="fa fa-envelope-o"  aria-hidden="true"></i>
                                                                <i *ngIf="msg.is_read == 1"  class="fa fa-envelope-open-o" aria-hidden="true"></i>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-container>
                                                <!-- user club info inner -->
                                            </div>
                                            <!-- user club info End-->
                                            <div class="chat-bottom-overlay"></div>
                                        </div>
                                        <!-- <div class="chat-divider"></div> -->
                                    </div>
                                </ng-container>
                            </ng-container>
                            <ng-container *ngIf="clubTrash">
                                <div *ngIf="clubMessage && clubMessage.length == 0" class="empty-data-image">
                                    <!-- <img  onContextMenu="return false;" alt="" loading="lazy"  src="../assets/img/no_record_img.png"> -->
                                        <span>{{language.community_messages.clubTrashMessages}}</span>
                                </div>
                                <ng-container *ngIf="clubMessage && clubMessage.length > 0">
                                    <div class="chat_messager-widget">
                                        <div class="chat-sidebar">
                                            <div class="chat-search">
                                                <form>
                                                    <div class="input-group no-border">
                                                        <div class="input-group-append">
                                                            <div class="input-group-text">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"  src="assets/img/Search.svg">
                                                            </div>
                                                        </div>
                                                        <input type="text" value="" class="form-control"
                                                            placeholder="{{language.community_messages.search}}...">
                                                    </div>
                                                </form>
                                            </div>
                                            <!-- user club info -->
                                            <!-- chat sidebar widget start -->
                                            <div class="widget-chat widget">
                                                <!-- user club info inner -->
                                                <div class="widget-app-content" *ngFor='let msg of clubMessage'>
                                                    <div class="app-main-content"
                                                        (click)="clickMessages(msg.id, msg.esdb_id)"
                                                        id="message-{{msg.id}}">
                                                        <div class="app-left-content">
                                                            <div class="user-img" *ngIf="msg.user">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"  [src]=" msg.user.image ?  msg.user.image : 'assets/img/defaultProfile.jpeg'">
                                                            </div>
                                                            <div class="user-content">
                                                                <h6 class="user-name" *ngIf="msg.user">
                                                                    {{msg.user.firstName}} {{msg.user.lastName}}</h6>
                                                                <span>{{msg.subject}}</span>
                                                                <p>{{msg.content}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="app-right-content">
                                                            <span class="seen-time">{{msg.created_at | date: 'd. MMMM y' }} <br> {{msg.created_at | date: 'HH:mm': 'GMT+2' }}
                                                            </span>
                                                            <i *ngIf="msg.is_read == 0" class="fa fa-envelope-o" aria-hidden="true"></i>
                                                            <i *ngIf="msg.is_read == 1" class="fa fa-envelope-open-o"  aria-hidden="true"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- user club info inner -->
                                            </div>
                                            <!-- user club info End-->
                                            <div class="chat-bottom-overlay"></div>
                                        </div>
                                        <!-- <div class="chat-divider"></div> -->
                                    </div>
                                </ng-container>
                            </ng-container>
                        </ng-container>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="card club_msg_main" *ngIf="isClublList == false">
    <div class="card-body ">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="tab-content">
                    <!-- <div class="error alert alert-danger" *ngIf="responseMessage">{{responseMessage}}</div> -->
                    <div class="tab-pane active">
                        <ng-container>
                            <div class="feature_tab back-message-btn">
                                <button type="button" (click)="back()">{{language.create_faq.Back}}</button>
                            </div>
                            <ng-container *ngIf="clubInbox">
                                <div *ngIf="clubMessage && clubMessage.length == 0" class="empty-data-image">
                                    <!-- <img onContextMenu="return false;" alt="" loading="lazy"
                                        src="../assets/img/no_record_img.png"><br> -->
                                        <span>{{language.community_messages.clubMessages}}</span>
                                </div>
                                <ng-container *ngIf="clubMessage && clubMessage.length > 0">
                                    <div class="chat_messager-widget">
                                        <div class="chat-sidebar">
                                            <div class="chat-search">
                                                <form>
                                                    <div class="input-group no-border">
                                                        <div class="input-group-append">
                                                            <div class="input-group-text">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"  src="assets/img/Search.svg">
                                                            </div>
                                                        </div>
                                                        <input type="text" value="" class="form-control"
                                                            placeholder="{{language.community_messages.search}}...">
                                                    </div>
                                                </form>
                                            </div>
                                            <!-- user club info -->
                                        </div>
                                        <!-- <div class="chat-divider"></div> -->
                                    </div>
                                    <!-- chat sidebar widget end -->
                                    <div class="chat-screen" *ngIf="selectedMessage.length > 0">
                                        <div class="chat-content">
                                            <div class="inner-chat">
                                                <div class="chat-top-area">
                                                    <div class="chat-header">
                                                        <div class="chat-left">
                                                            <div class="chat-user-img-main">
                                                                <div class="chat-user-img-in"
                                                                    *ngIf="selectedMessage[0].user.image == null || selectedMessage[0].user.image == '' ">
                                                                    <img onContextMenu="return false;" alt="" loading="lazy"  src="assets/img/defaultProfile.jpeg">
                                                                </div>
                                                                <div class="chat-user-img-in"
                                                                    *ngIf="selectedMessage[0].user.image != null || selectedMessage[0].user.image != '' ">
                                                                    <img onContextMenu="return false;" alt="" loading="lazy"  [src]="selectedMessage[0].user.image">
                                                                </div>
                                                            </div>
                                                            <div class="user-detail-info">
                                                                <div class="chat-user-name"
                                                                    tooltip="{{selectedMessage[0].user.email}}"
                                                                    placement="top" delay="500">
                                                                    "{{selectedMessage[0].user.firstName}}
                                                                    {{selectedMessage[0].user.lastName}}"</div>
                                                                <div class="reply-date">{{selectedMessage[0].created_at | date: 'd. MMMM y' }} {{selectedMessage[0].created_at| date: 'HH:mm': 'GMT+2' }}</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-right">
                                                            <ul>
                                                                <li><button type="button" (click)="markedStarredMessages(selectedMessage[0].id, selectedMessage[0].esdb_id)"
                                                                        data-tooltip alt="Starred"><i class="fa fa-star-o"aria-hidden="true"></i></button></li>
                                                                <li><button type="button" (click)="deleteMessages(selectedMessage[0].id, selectedMessage[0].esdb_id)"
                                                                        placement="bottom" delay="500" tooltip="{{language.community_messages.trash}}">
                                                                        <i class="fa fa-trash"aria-hidden="true"></i></button></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div class="reply-users">
                                                        <div class="more-toggle">
                                                            <i class="fa fa-caret-square-o-down" aria-hidden="true"  (click)="onShow()"></i>
                                                        </div>
                                                        <div class="cc-to-main">
                                                            <div class="chat-user-name">
                                                                {{language.create_message.participantsto}}-
                                                                <span *ngFor='let touser of selectedMessage[0].to'>
                                                                    <span *ngIf="touser" class="to-username"
                                                                        tooltip="{{alluserDetails[touser].email}}"
                                                                        placement="bottom" delay="500">
                                                                        "{{alluserDetails[touser].firstname}}
                                                                        {{alluserDetails[touser].lastname}}",</span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="chat-inner-content">
                                                    <h2>{{selectedMessage[0].subject}}</h2>
                                                    <p>{{selectedMessage[0].content}}</p>
                                                    <div class="view-attachments"
                                                        *ngIf="stringifiedData(selectedMessage[0].attachments) && stringifiedData(selectedMessage[0].attachments).length > 0">
                                                        <div
                                                            *ngFor='let attachment of stringifiedData(selectedMessage[0].attachments)'>
                                                            <a *ngIf="imageType.indexOf(attachment.split('.').pop()) !== -1"
                                                                href="{{attachment}}">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="{{attachment}}" />
                                                            </a>
                                                            <a *ngIf="imageType.indexOf(attachment.split('.').pop()) == -1"
                                                                href="{{attachment}}">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="assets/img/doc-icons/chat_doc_ic.png" />
                                                                {{attachment.split('/').pop()}}
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-form" *ngIf="isReplyMsgForm">
                                            <h4 class="reply-heading" id="reply-heading"></h4>
                                            <form [formGroup]="replyMsgForm" (ngSubmit)='replyMessage()'>
                                                <div class="chat-form-inner">
                                                    <div class="message_upload news_pic_upload">
                                                        <div class="message-upload-list" style="display: none;">
                                                            <img onContextMenu="return false;" alt="" loading="lazy" class="preview_img"
                                                                src="">
                                                            <label class="preview_txt" style="display: none;"></label>
                                                        </div>
                                                    </div>
                                                    <div class="chat-text-area">
                                                        <textarea type="text" formControlName="content"
                                                            placeholder="{{language.create_message.compose_replay}}"></textarea>
                                                        <input type="hidden" id="replyMsgType" value="" />
                                                        <input type="hidden" id="replyToMsgId" value="" />
                                                        <label class="text-danger"
                                                            *ngIf="replyMsgSubmitted && replyMsgForm.controls['content'].errors">{{language.error_message.common_required}}</label>
                                                    </div>
                                                    <div class="chat-btn-group">
                                                        <div class="chat_upload_btn"><input type="file"
                                                                (change)="uploadFile($event)" id="add_image">
                                                            <Span class="attach_icon"><img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="assets/img/attach.svg"></Span>
                                                        </div>
                                                        <div class="chat_sent_btn"><button type="submit"><i class="nc-icon nc-minimal-right"></i></button></div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </ng-container>
                            </ng-container>
                            <ng-container *ngIf="clubStarred">
                                <div *ngIf="clubMessage && clubMessage.length == 0" class="empty-data-image">
                                    <!-- <img onContextMenu="return false;" alt="" loading="lazy"
                                        src="../assets/img/no_record_img.png"><br> -->
                                        <span>{{language.community_messages.clubStarredMessages}}</span>
                                </div>
                                <ng-container *ngIf="clubMessage && clubMessage.length > 0">
                                    <div class="chat_messager-widget">
                                        <div class="chat-sidebar">
                                            <div class="chat-search">
                                                <form>
                                                    <div class="input-group no-border">
                                                        <div class="input-group-append">
                                                            <div class="input-group-text">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="assets/img/Search.svg">
                                                            </div>
                                                        </div>
                                                        <input type="text" value="" class="form-control"
                                                            placeholder="{{language.community_messages.search}}...">
                                                    </div>
                                                </form>
                                            </div>
                                            <!-- user club info -->
                                        </div>
                                        <!-- <div class="chat-divider"></div> -->
                                    </div>
                                    <!-- chat sidebar widget end -->
                                    <div class="chat-screen" *ngIf="selectedMessage.length > 0">
                                        <div class="chat-content">
                                            <div class="inner-chat">
                                                <div class="chat-top-area">
                                                    <div class="chat-header">
                                                        <div class="chat-left">
                                                            <div class="chat-user-img-main">
                                                                <div class="chat-user-img-in"
                                                                    *ngIf="selectedMessage[0].user.image == null || selectedMessage[0].user.image == '' ">
                                                                    <img onContextMenu="return false;" alt="" loading="lazy"
                                                                        src="assets/img/defaultProfile.jpeg">
                                                                </div>
                                                                <div class="chat-user-img-in"
                                                                    *ngIf="selectedMessage[0].user.image != null || selectedMessage[0].user.image != '' ">
                                                                    <img onContextMenu="return false;" alt="" loading="lazy"
                                                                        [src]="selectedMessage[0].user.image">
                                                                </div>
                                                            </div>
                                                            <div class="user-detail-info">
                                                                <div class="chat-user-name"
                                                                    tooltip="{{selectedMessage[0].user.email}}"
                                                                    placement="top" delay="500">
                                                                    "{{selectedMessage[0].user.firstName}}
                                                                    {{selectedMessage[0].user.lastName}}"</div>
                                                                <div class="reply-date">{{selectedMessage[0].created_at | date: 'd. MMMM y' }} {{selectedMessage[0].created_at  | date: 'HH:mm': 'GMT+2' }}</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-right">
                                                            <ul>
                                                                <li><button type="button"
                                                                        (click)="unmarkedStarredMessages(selectedMessage[0].id, selectedMessage[0].esdb_id)"
                                                                        data-tooltip alt="Starred"><i class="fa fa-star"
                                                                            aria-hidden="true"></i></button></li>
                                                                <li><button type="button"
                                                                        (click)="deleteMessages(selectedMessage[0].id, selectedMessage[0].esdb_id)"
                                                                        placement="bottom" delay="500"
                                                                        tooltip="{{language.community_messages.trash}}">
                                                                        <i  class="fa fa-trash" aria-hidden="true"></i></button></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div class="reply-users">
                                                        <div class="more-toggle">
                                                            <i class="fa fa-caret-square-o-down" aria-hidden="true"
                                                                (click)="onShow()"></i>
                                                        </div>
                                                        <div class="cc-to-main">
                                                            <div class="chat-user-name">
                                                                {{language.create_message.participantsto}}-
                                                                <span *ngFor='let touser of selectedMessage[0].to'>
                                                                    <span *ngIf="touser" class="to-username"
                                                                        tooltip="{{alluserDetails[touser].email}}"
                                                                        placement="bottom" delay="500">
                                                                        "{{alluserDetails[touser].firstname}}
                                                                        {{alluserDetails[touser].lastname}}",</span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="chat-inner-content">
                                                    <h2>{{selectedMessage[0].subject}}</h2>
                                                    <p>{{selectedMessage[0].content}}</p>
                                                    <div class="view-attachments"
                                                        *ngIf="stringifiedData(selectedMessage[0].attachments) && stringifiedData(selectedMessage[0].attachments).length > 0">
                                                        <div
                                                            *ngFor='let attachment of stringifiedData(selectedMessage[0].attachments)'>
                                                            <a *ngIf="imageType.indexOf(attachment.split('.').pop()) !== -1"
                                                                href="{{attachment}}">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="{{attachment}}" />
                                                            </a>
                                                            <a *ngIf="imageType.indexOf(attachment.split('.').pop()) == -1"
                                                                href="{{attachment}}">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="assets/img/doc-icons/chat_doc_ic.png" />
                                                                {{attachment.split('/').pop()}}
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-form" *ngIf="isReplyMsgForm">
                                            <h4 class="reply-heading" id="reply-heading"></h4>
                                            <form [formGroup]="replyMsgForm" (ngSubmit)='replyMessage()'>
                                                <div class="chat-form-inner">
                                                    <div class="message_upload news_pic_upload">
                                                        <div class="message-upload-list" style="display: none;">
                                                            <img onContextMenu="return false;" alt="" loading="lazy" class="preview_img"
                                                                src="">
                                                            <label class="preview_txt" style="display: none;"></label>
                                                        </div>
                                                    </div>
                                                    <div class="chat-text-area">
                                                        <textarea type="text" formControlName="content"
                                                            placeholder="{{language.create_message.compose_replay}}"></textarea>
                                                        <input type="hidden" id="replyMsgType" value="" />
                                                        <input type="hidden" id="replyToMsgId" value="" />
                                                        <label class="text-danger"
                                                            *ngIf="replyMsgSubmitted && replyMsgForm.controls['content'].errors">{{language.error_message.common_required}}</label>
                                                    </div>
                                                    <div class="chat-btn-group">
                                                        <div class="chat_upload_btn"><input type="file"
                                                                (change)="uploadFile($event)" id="add_image">
                                                            <Span class="attach_icon"><img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="assets/img/attach.svg"></Span>
                                                        </div>
                                                        <div class="chat_sent_btn"><button type="submit"><i
                                                                    class="nc-icon nc-minimal-right"></i></button></div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </ng-container>
                            </ng-container>
                            <ng-container *ngIf="clubSent">
                                <div *ngIf="clubMessage && clubMessage.length == 0" class="empty-data-image">
                                    <!-- <img onContextMenu="return false;" alt="" loading="lazy"
                                        src="../assets/img/no_record_img.png"><br> -->
                                        <span>{{language.community_messages.clubSentMessages}}</span>
                                </div>
                                <ng-container *ngIf="clubMessage && clubMessage.length > 0">
                                    <div class="chat_messager-widget">
                                        <div class="chat-sidebar">
                                            <div class="chat-search">
                                                <form>
                                                    <div class="input-group no-border">
                                                        <div class="input-group-append">
                                                            <div class="input-group-text">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="assets/img/Search.svg">
                                                            </div>
                                                        </div>
                                                        <input type="text" value="" class="form-control"
                                                            placeholder="{{language.community_messages.search}}...">
                                                    </div>
                                                </form>
                                            </div>
                                            <!-- user club info -->
                                        </div>
                                        <!-- <div class="chat-divider"></div> -->
                                    </div>
                                    <!-- chat sidebar widget end -->
                                    <div class="chat-screen" *ngIf="selectedMessage.length > 0">
                                        <div class="chat-content">
                                            <div class="inner-chat">
                                                <div class="chat-top-area">
                                                    <div class="chat-header">
                                                        <div class="chat-left">
                                                            <div class="chat-user-img-main">
                                                                <div class="chat-user-img-in"
                                                                    *ngIf="selectedMessage[0].user">
                                                                    <img onContextMenu="return false;" alt="" loading="lazy"
                                                                        [src]=" selectedMessage[0].user.image ?  selectedMessage[0].user.image : 'assets/img/defaultProfile.jpeg'">
                                                                </div>
                                                            </div>
                                                            <div class="user-detail-info">
                                                                <div class="chat-user-name"
                                                                    tooltip="{{selectedMessage[0].user.email}}"
                                                                    placement="top" delay="500">
                                                                    "{{selectedMessage[0].user.firstName}}
                                                                    {{selectedMessage[0].user.lastName}}"</div>
                                                                <div class="reply-date">{{selectedMessage[0].created_at
                                                                    | date: 'd. MMMM y' }} {{selectedMessage[0].created_at
                                                                    | date: 'HH:mm': 'GMT+2' }}</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-right">
                                                            <ul>
                                                                <li><button type="button"
                                                                        (click)="markedStarredMessages(selectedMessage[0].id, selectedMessage[0].esdb_id)"
                                                                        data-tooltip alt="Starred"><i
                                                                            class="fa fa-star-o"
                                                                            aria-hidden="true"></i>
                                                                        </button>
                                                                </li>
                                                                <li><button type="button"
                                                                        (click)="deleteMessages(selectedMessage[0].id, selectedMessage[0].esdb_id)"
                                                                        placement="bottom" delay="500"
                                                                        tooltip="{{language.community_messages.trash}}"><i
                                                                            class="fa fa-trash"
                                                                            aria-hidden="true"></i>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div class="reply-users">
                                                        <div class="more-toggle">
                                                            <i class="fa fa-caret-square-o-down" aria-hidden="true"
                                                                (click)="onShow()"></i>
                                                        </div>
                                                        <div class="cc-to-main">
                                                            <div class="chat-user-name">
                                                                {{language.create_message.participantsto}}-
                                                                <span *ngFor='let touser of selectedMessage[0].to'>
                                                                    <span *ngIf="touser" class="to-username"
                                                                        tooltip="{{alluserDetails[touser].email}}"
                                                                        placement="bottom" delay="500">
                                                                        "{{alluserDetails[touser].firstname}}
                                                                        {{alluserDetails[touser].lastname}}",</span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="chat-inner-content">
                                                    <h2>{{selectedMessage[0].subject}}</h2>
                                                    <p>{{selectedMessage[0].content}}</p>
                                                    <div class="view-attachments"
                                                        *ngIf="stringifiedData(selectedMessage[0].attachments) && stringifiedData(selectedMessage[0].attachments).length > 0">
                                                        <div
                                                            *ngFor='let attachment of stringifiedData(selectedMessage[0].attachments)'>
                                                            <a *ngIf="imageType.indexOf(attachment.split('.').pop()) !== -1"
                                                                href="{{attachment}}">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="{{attachment}}" />
                                                            </a>
                                                            <a *ngIf="imageType.indexOf(attachment.split('.').pop()) == -1"
                                                                href="{{attachment}}">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="assets/img/doc-icons/chat_doc_ic.png" />
                                                                {{attachment.split('/').pop()}}
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-form" *ngIf="isReplyMsgForm">
                                            <h4 class="reply-heading" id="reply-heading"></h4>
                                            <form [formGroup]="replyMsgForm" (ngSubmit)='replyMessage()'>
                                                <div class="chat-form-inner">
                                                    <div class="message_upload news_pic_upload">
                                                        <div class="message-upload-list" style="display: none;">
                                                            <img onContextMenu="return false;" alt="" loading="lazy" class="preview_img"
                                                                src="">
                                                            <label class="preview_txt" style="display: none;"></label>
                                                        </div>
                                                    </div>
                                                    <div class="chat-text-area">
                                                        <textarea type="text" formControlName="content"
                                                            placeholder="{{language.create_message.compose_replay}}"></textarea>
                                                        <input type="hidden" id="replyMsgType" value="" />
                                                        <input type="hidden" id="replyToMsgId" value="" />
                                                        <label class="text-danger"
                                                            *ngIf="replyMsgSubmitted && replyMsgForm.controls['content'].errors">{{language.error_message.common_required}}</label>
                                                    </div>
                                                    <div class="chat-btn-group">
                                                        <div class="chat_upload_btn"><input type="file" (change)="uploadFile($event)" id="add_image">
                                                            <Span class="attach_icon"><img onContextMenu="return false;" alt="" loading="lazy" src="assets/img/attach.svg"></Span>
                                                        </div>
                                                        <div class="chat_sent_btn"><button type="submit"><i class="nc-icon nc-minimal-right"></i></button></div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </ng-container>
                            </ng-container>
                            <ng-container *ngIf="clubDrafts">
                                <div *ngIf="clubMessage && clubMessage.length == 0" class="empty-data-image">
                                    <!-- <img  onContextMenu="return false;" alt="" loading="lazy"
                                        src="../assets/img/no_record_img.png"><br> -->
                                        <span>{{language.community_messages.clubDraftMessages}}</span>
                                </div>
                                <ng-container *ngIf="clubMessage && clubMessage.length > 0">
                                    <div class="chat_messager-widget">
                                        <div class="chat-sidebar">
                                            <div class="chat-search">
                                                <form>
                                                    <div class="input-group no-border">
                                                        <div class="input-group-append">
                                                            <div class="input-group-text">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"   src="assets/img/Search.svg">
                                                            </div>
                                                        </div>
                                                        <input type="text" value="" class="form-control"
                                                            placeholder="{{language.community_messages.search}}...">
                                                    </div>
                                                </form>
                                            </div>
                                            <!-- user club info -->
                                        </div>
                                        <!-- <div class="chat-divider"></div> -->
                                    </div>
                                    <!-- chat sidebar widget end -->
                                    <div class="chat-screen" *ngIf="selectedMessage.length > 0">
                                        <div class="chat-form">
                                            <div class="chat-content">
                                                <div class="inner-chat">
                                                    <div class="chat-top-area">
                                                        <div class="chat-header">
                                                            <div class="chat-left"></div>
                                                            <div class="chat-right">
                                                                <ul>
                                                                    <li><button type="button"
                                                                            (click)="deleteDraftMessages(selectedMessage[0].id, selectedMessage[0].esdb_id)"
                                                                            placement="bottom" delay="500"
                                                                            tooltip="{{language.community_messages.delete}}"><i
                                                                                class="fa fa-trash"
                                                                                aria-hidden="true"></i></button></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card draft_main">
                                                <form [formGroup]="messageForm" (ngSubmit)='messageProcess()'>
                                                    <div class="card-body">
                                                        <!-- profile details data start -->
                                                        <div class="profile_details">
                                                            <!-- <div class="alert alert-danger" *ngIf="responseMessage">
                                                                {{responseMessage}}</div> -->
                                                            <div class="row">
                                                                <div class="col-md-12">
                                                                    <div class="news-dropdown"
                                                                        *ngIf="personalVisiable && alluserDetails">
                                                                        <div class="multi_dropdown_main">
                                                                            <label>{{language.create_message.participantsto}}</label>
                                                                            <ng-multiselect-dropdown
                                                                                formControlName="receiver_id"
                                                                                [placeholder]="language.create_message.participantsto"
                                                                                [settings]="userDropdownSettings"
                                                                                [data]="userDropdownList"
                                                                                (onSelect)="onReceiverSelect($event)"
                                                                                (onDeSelect)="onReceiverDeSelect($event)">
                                                                            </ng-multiselect-dropdown>
                                                                            <label class="text-danger"
                                                                                *ngIf="messageSubmitted && messageForm.controls['receiver_id'].errors">{{language.error_message.common_required}}</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-12">
                                                                    <div class="event_field">
                                                                        <label>{{language.create_message.subject}}</label>
                                                                        <input type="text" formControlName="subject"
                                                                            placeholder="{{language.create_message.subject_placeholder}}">
                                                                        <label class="text-danger"
                                                                            *ngIf="messageSubmitted && messageForm.controls['subject'].errors">{{language.error_message.common_required}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-12">
                                                                    <div class="event_field task_area_field">
                                                                        <label>{{language.create_message.content}}</label>
                                                                        <textarea formControlName="content"
                                                                            placeholder="{{language.create_message.content_placeholder}}"></textarea>
                                                                        <label class="text-danger"
                                                                            *ngIf="messageSubmitted && messageForm.controls['content'].errors">{{language.error_message.common_required}}</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- profile details data End -->
                                                        <div class="view-attachments"
                                                            *ngIf="stringifiedData(selectedMessage[0].attachments) && stringifiedData(selectedMessage[0].attachments).length > 0">
                                                            <div
                                                                *ngFor='let attachment of stringifiedData(selectedMessage[0].attachments)'>
                                                                <a *ngIf="imageType.indexOf(attachment.split('.').pop()) !== -1"
                                                                    href="{{attachment}}">
                                                                    <img onContextMenu="return false;" alt="" loading="lazy"
                                                                        src="{{attachment}}" />
                                                                </a>
                                                                <a *ngIf="imageType.indexOf(attachment.split('.').pop()) == -1"
                                                                    href="{{attachment}}">
                                                                    <img onContextMenu="return false;" alt="" loading="lazy"
                                                                        src="assets/img/doc-icons/chat_doc_ic.png" />
                                                                    {{attachment.split('/').pop()}}
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <div class="event_upload news_pic_upload">
                                                            <div class="message-upload-list" style="display: none;">
                                                                <img onContextMenu="return false;" alt="" loading="lazy" class="preview_img"
                                                                    src="">
                                                                <label class="preview_txt"
                                                                    style="display: none;"></label>
                                                            </div>
                                                        </div>
                                                        <div class="profile_sub_btn message_sub_btn">
                                                            <button type="submit"
                                                                class="save_btn">{{language.create_message.send}}</button>
                                                            <div class="message_upload">
                                                                <input type="file" (change)="uploadDraftFile($event)"
                                                                    id="add_image">
                                                                <span class="message_upload_overlay">
                                                                    <div class="upload_label">
                                                                        <img onContextMenu="return false;" alt="" loading="lazy"
                                                                            src="assets/img/attach.svg">
                                                                        <div class="up_text">
                                                                            {{language.create_message.add_file}}<br><span>(Max
                                                                                20Mb)</span></div>
                                                                    </div>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>
                            </ng-container>
                            <ng-container *ngIf="clubAllMail">
                                <div *ngIf="clubMessage && clubMessage.length == 0" class="empty-data-image">
                                    <!-- <img onContextMenu="return false;" alt="" loading="lazy"
                                        src="../assets/img/no_record_img.png"><br> -->
                                        <span>{{language.community_messages.clubAllMessages}}</span>
                                </div>
                                <ng-container *ngIf="clubMessage && clubMessage.length > 0">
                                    <div class="chat_messager-widget">
                                        <div class="chat-sidebar">
                                            <div class="chat-search">
                                                <form>
                                                    <div class="input-group no-border">
                                                        <div class="input-group-append">
                                                            <div class="input-group-text">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="assets/img/Search.svg">
                                                            </div>
                                                        </div>
                                                        <input type="text" value="" class="form-control"
                                                            placeholder="{{language.community_messages.search}}...">
                                                    </div>
                                                </form>
                                            </div>
                                            <!-- user club info -->

                                        </div>
                                        <!-- <div class="chat-divider"></div> -->
                                    </div>
                                    <!-- chat sidebar widget end -->
                                    <div class="chat-screen" *ngIf="selectedMessage.length > 0">
                                        <div class="chat-content">
                                            <div class="inner-chat">
                                                <div class="chat-top-area">
                                                    <div class="chat-header">
                                                        <div class="chat-left">
                                                            <div class="chat-user-img-main">
                                                                <div class="chat-user-img-in">
                                                                    <div class="chat-user-img-in"
                                                                        *ngIf="selectedMessage[0].user">
                                                                        <img onContextMenu="return false;" alt="" loading="lazy"
                                                                            [src]=" selectedMessage[0].user.image ?  selectedMessage[0].user.image : 'assets/img/defaultProfile.jpeg'">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="user-detail-info">
                                                                <div class="chat-user-name"
                                                                    tooltip="{{selectedMessage[0].user.email}}"
                                                                    placement="top" delay="500">
                                                                    "{{selectedMessage[0].user.firstName}}
                                                                    {{selectedMessage[0].user.lastName}}"</div>
                                                                <div class="reply-date">{{selectedMessage[0].created_at
                                                                    | date: 'd. MMMM y' }} {{selectedMessage[0].created_at
                                                                    | date: 'HH:mm': 'GMT+2' }}</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-right">
                                                            <ul>
                                                                <li><button type="button"
                                                                        (click)="markedStarredMessages(selectedMessage[0].id, selectedMessage[0].esdb_id)"
                                                                        data-tooltip alt="Starred"><i
                                                                            class="fa fa-star-o"
                                                                            aria-hidden="true"></i></button></li>
                                                                <li><button type="button"
                                                                        (click)="deleteMessages(selectedMessage[0].id, selectedMessage[0].esdb_id)"
                                                                        placement="bottom" delay="500"
                                                                        tooltip="{{language.community_messages.trash}}"><i
                                                                            class="fa fa-trash"
                                                                            aria-hidden="true"></i></button></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div class="reply-users">
                                                        <div class="more-toggle">
                                                            <i class="fa fa-caret-square-o-down" aria-hidden="true"
                                                                (click)="onShow()"></i>
                                                        </div>
                                                        <div class="cc-to-main">
                                                            <div class="chat-user-name">
                                                                {{language.create_message.participantsto}}-
                                                                <span *ngFor='let touser of selectedMessage[0].to'>
                                                                    <span *ngIf="touser && alluserDetails[touser]"
                                                                        class="to-username"
                                                                        tooltip="{{alluserDetails[touser].email}}"
                                                                        placement="bottom" delay="500">
                                                                        "{{alluserDetails[touser].firstname}}
                                                                        {{alluserDetails[touser].lastname}}",</span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="chat-inner-content">
                                                    <h2>{{selectedMessage[0].subject}}</h2>
                                                    <p>{{selectedMessage[0].content}}</p>
                                                    <div class="view-attachments"
                                                        *ngIf="stringifiedData(selectedMessage[0].attachments) && stringifiedData(selectedMessage[0].attachments).length > 0">
                                                        <div
                                                            *ngFor='let attachment of stringifiedData(selectedMessage[0].attachments)'>
                                                            <a *ngIf="imageType.indexOf(attachment.split('.').pop()) !== -1"
                                                                href="{{attachment}}">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="{{attachment}}" />
                                                            </a>
                                                            <a *ngIf="imageType.indexOf(attachment.split('.').pop()) == -1"
                                                                href="{{attachment}}">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="assets/img/doc-icons/chat_doc_ic.png" />
                                                                {{attachment.split('/').pop()}}
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-form" *ngIf="isReplyMsgForm">
                                            <h4 class="reply-heading" id="reply-heading"></h4>
                                            <form [formGroup]="replyMsgForm" (ngSubmit)='replyMessage()'>
                                                <div class="chat-form-inner">
                                                    <div class="message_upload news_pic_upload">
                                                        <div class="message-upload-list" style="display: none;">
                                                            <img onContextMenu="return false;" alt="" loading="lazy" class="preview_img"
                                                                src="">
                                                            <label class="preview_txt" style="display: none;"></label>
                                                        </div>
                                                    </div>
                                                    <div class="chat-text-area">
                                                        <textarea type="text" formControlName="content"
                                                            placeholder="{{language.create_message.compose_replay}}"></textarea>
                                                        <input type="hidden" id="replyMsgType" value="" />
                                                        <input type="hidden" id="replyToMsgId" value="" />
                                                        <label class="text-danger"
                                                            *ngIf="replyMsgSubmitted && replyMsgForm.controls['content'].errors">{{language.error_message.common_required}}</label>
                                                    </div>
                                                    <div class="chat-btn-group">
                                                        <div class="chat_upload_btn"><input type="file"
                                                                (change)="uploadFile($event)" id="add_image">
                                                            <Span class="attach_icon"><img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="assets/img/attach.svg"></Span>
                                                        </div>
                                                        <div class="chat_sent_btn"><button type="submit"><i
                                                                    class="nc-icon nc-minimal-right"></i></button></div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </ng-container>
                            </ng-container>

                            <ng-container *ngIf="clubTrash">
                                <div *ngIf="clubMessage && clubMessage.length == 0" class="empty-data-image">
                                    <!-- <img onContextMenu="return false;" alt="" loading="lazy"
                                        src="../assets/img/no_record_img.png">
                                        <br> -->
                                        <span>{{language.community_messages.clubTrashMessages}}</span>
                                </div>
                                <ng-container *ngIf="clubMessage && clubMessage.length > 0">
                                    <div class="chat_messager-widget">
                                        <div class="chat-sidebar">
                                            <div class="chat-search">
                                                <form>
                                                    <div class="input-group no-border">
                                                        <div class="input-group-append">
                                                            <div class="input-group-text">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="assets/img/Search.svg">
                                                            </div>
                                                        </div>
                                                        <input type="text" value="" class="form-control"
                                                            placeholder="{{language.community_messages.search}}...">
                                                    </div>
                                                </form>
                                            </div>
                                            <!-- user club info -->

                                        </div>
                                        <!-- <div class="chat-divider"></div> -->
                                    </div>
                                    <!-- chat sidebar widget end -->
                                    <div class="chat-screen" *ngIf="selectedMessage.length > 0">
                                        <div class="chat-content">
                                            <div class="inner-chat">
                                                <div class="chat-top-area">
                                                    <div class="chat-header">
                                                        <div class="chat-left">
                                                            <div class="chat-user-img-main">
                                                                <div class="chat-user-img-in"
                                                                    *ngIf="selectedMessage[0].user.image == null || selectedMessage[0].user.image == '' ">
                                                                    <img onContextMenu="return false;" alt="" loading="lazy"
                                                                        src="assets/img/defaultProfile.jpeg">
                                                                </div>
                                                                <div class="chat-user-img-in"
                                                                    *ngIf="selectedMessage[0].user.image != null || selectedMessage[0].user.image != '' ">
                                                                    <img onContextMenu="return false;" alt="" loading="lazy"
                                                                        [src]="selectedMessage[0].user.image">
                                                                </div>
                                                            </div>
                                                            <div class="user-detail-info">
                                                                <div class="chat-user-name"
                                                                    tooltip="{{selectedMessage[0].user.email}}"
                                                                    placement="top" delay="500">
                                                                    "{{selectedMessage[0].user.firstName}}
                                                                    {{selectedMessage[0].user.lastName}}"</div>
                                                                <div class="reply-date">{{selectedMessage[0].created_at
                                                                    | date: 'd. MMMM y' }} {{selectedMessage[0].created_at
                                                                    | date: 'HH:mm': 'GMT+2' }}</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-right">
                                                            <ul>
                                                                <li><button type="button"
                                                                        (click)="markedStarredMessages(selectedMessage[0].id, selectedMessage[0].esdb_id)"
                                                                        data-tooltip alt="Starred"><i
                                                                            class="fa fa-star-o"
                                                                            aria-hidden="true"></i></button></li>
                                                                <li><button type="button"
                                                                        (click)="deleteMessagesPermanently(selectedMessage[0].id, selectedMessage[0].esdb_id)"
                                                                        placement="bottom" delay="500"
                                                                        tooltip="{{language.community_messages.delte}}"><i
                                                                            class="fa fa-trash"
                                                                            aria-hidden="true"></i></button></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div class="reply-users">
                                                        <div class="more-toggle">
                                                            <i class="fa fa-caret-square-o-down" aria-hidden="true"
                                                                (click)="onShow()"></i>
                                                        </div>
                                                        <div class="cc-to-main">
                                                            <div class="chat-user-name">
                                                                {{language.create_message.participantsto}}-
                                                                <span *ngFor='let touser of selectedMessage[0].to'>
                                                                    <span *ngIf="touser" class="to-username"
                                                                        tooltip="{{alluserDetails[touser].email}}"
                                                                        placement="bottom" delay="500">
                                                                        "{{alluserDetails[touser].firstname}}
                                                                        {{alluserDetails[touser].lastname}}",</span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="chat-inner-content">
                                                    <h2>{{selectedMessage[0].subject}}</h2>
                                                    <p>{{selectedMessage[0].content}}</p>
                                                    <div class="view-attachments"
                                                        *ngIf="stringifiedData(selectedMessage[0].attachments) && stringifiedData(selectedMessage[0].attachments).length > 0">
                                                        <div
                                                            *ngFor='let attachment of stringifiedData(selectedMessage[0].attachments)'>
                                                            <a *ngIf="imageType.indexOf(attachment.split('.').pop()) !== -1"
                                                                href="{{attachment}}">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="{{attachment}}" />
                                                            </a>
                                                            <a *ngIf="imageType.indexOf(attachment.split('.').pop()) == -1"
                                                                href="{{attachment}}">
                                                                <img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="assets/img/doc-icons/chat_doc_ic.png" />
                                                                {{attachment.split('/').pop()}}
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-form" *ngIf="isReplyMsgForm">
                                            <h4 class="reply-heading" id="reply-heading"></h4>
                                            <form [formGroup]="replyMsgForm" (ngSubmit)='replyMessage()'>
                                                <div class="chat-form-inner">
                                                    <div class="message_upload news_pic_upload">
                                                        <div class="message-upload-list" style="display: none;">
                                                            <img onContextMenu="return false;" alt="" loading="lazy" class="preview_img"
                                                                src="">
                                                            <label class="preview_txt" style="display: none;"></label>
                                                        </div>
                                                    </div>
                                                    <div class="chat-text-area">
                                                        <textarea type="text" formControlName="content"
                                                            placeholder="{{language.create_message.compose_replay}}"></textarea>
                                                        <input type="hidden" id="replyMsgType" value="" />
                                                        <input type="hidden" id="replyToMsgId" value="" />
                                                        <label class="text-danger"
                                                            *ngIf="replyMsgSubmitted && replyMsgForm.controls['content'].errors">{{language.error_message.common_required}}</label>
                                                    </div>
                                                    <div class="chat-btn-group">
                                                        <div class="chat_upload_btn"><input type="file"
                                                                (change)="uploadFile($event)" id="add_image">
                                                            <Span class="attach_icon"><img onContextMenu="return false;" alt="" loading="lazy"
                                                                    src="assets/img/attach.svg"></Span>
                                                        </div>
                                                        <div class="chat_sent_btn"><button type="submit"><i
                                                                    class="nc-icon nc-minimal-right"></i></button></div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </ng-container>
                            </ng-container>

                        </ng-container>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
