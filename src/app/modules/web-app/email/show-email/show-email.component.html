<div class="content">
    <div class="email-contents">
        <div class="col-md-12 page-main">
            <div class="page-action">
                <div></div>
                <div class="page-action-right" *ngIf="userRole == 'admin'">
                    <button type="button" class="disabled button-create" routerLink="/web/create-email-template">
                        <svg xmlns="http://www.w3.org/2000/svg" width="17" height="20" viewBox="0 0 17 20" fill="none">
                            <path
                                d="M0.00384697 10.9926C0.00384697 9.01027 0.0151139 7.0273 9.13294e-05 5.04495C-0.0105496 3.67038 0.910207 2.60879 1.95114 2.19442C2.45565 1.99349 2.99271 1.96845 3.52225 2.01415C3.96542 2.05233 4.20077 1.92965 4.42173 1.50463C4.90996 0.565098 5.75498 0.0756129 6.81532 0.0280415C7.61151 -0.00638518 8.41209 -0.0126446 9.20766 0.0292934C10.4126 0.0931392 11.2808 0.695919 11.774 1.80258C11.8479 1.96908 11.9299 2.01164 12.1008 2.01102C12.6704 2.00914 13.2431 1.96345 13.8046 2.10679C14.9507 2.39973 16.0529 3.58964 16.0379 5.08062C16.0122 7.59377 16.031 10.1069 16.031 12.6201C16.031 14.0253 16.006 15.4305 16.0373 16.8345C16.0773 18.6216 14.8424 19.625 13.4284 19.9573C13.2857 19.9905 13.1329 19.9893 12.9852 19.9893C9.66898 19.9911 6.35275 19.9698 3.03715 19.9999C1.57433 20.013 0.264864 18.8281 0.0601815 17.5687C0.0226251 17.3371 0.00384697 17.1049 0.00384697 16.8696C0.00447291 14.911 0.00384697 12.9518 0.00384697 10.9926ZM14.0243 10.997C14.0243 9.02279 14.0249 7.04858 14.0236 5.07437C14.023 4.42965 13.5986 4.01089 12.9502 4.00902C12.6528 4.00776 12.3555 4.01778 12.0588 4.00526C11.9098 3.999 11.8479 4.04908 11.789 4.18616C11.3283 5.25025 10.5109 5.85554 9.35914 5.98073C8.61239 6.0621 7.85876 6.01327 7.10889 6.00827C5.75247 5.99888 4.76224 5.40298 4.22268 4.1342C4.17511 4.02216 4.11314 4.00651 4.01174 4.00776C3.71442 4.01215 3.41772 4.00902 3.1204 4.00902C2.4231 4.01027 2.01061 4.41776 2.01061 5.10879C2.00998 9.03406 2.00998 12.9587 2.01061 16.884C2.01061 17.5906 2.4206 18 3.13167 18C6.38467 18.0006 9.63705 18.0006 12.8901 18C13.6187 18 14.0236 17.5963 14.0243 16.8733C14.0243 14.9141 14.0243 12.9556 14.0243 10.997ZM8.02589 4.00776C8.36139 4.00776 8.69752 4.01215 9.03302 4.00651C9.58698 3.99712 9.97318 3.64722 10.0045 3.13458C10.0439 2.48798 9.74472 2.05859 9.14319 2.02604C8.39582 1.98598 7.64344 1.98598 6.89607 2.02479C6.29329 2.05609 5.99158 2.48298 6.02851 3.12832C6.05793 3.64284 6.44289 3.99587 6.99496 4.00589C7.33861 4.01277 7.68225 4.00776 8.02589 4.00776ZM11.7934 9.38584C11.3866 8.89072 10.7493 8.87883 10.2611 9.36393C9.22519 10.3936 8.19113 11.4245 7.16209 12.4611C7.04817 12.5756 6.98933 12.5831 6.87416 12.4642C6.48357 12.0598 6.08923 11.658 5.67861 11.2743C5.26862 10.8912 4.69839 10.9144 4.31094 11.3037C3.91722 11.6993 3.90533 12.2821 4.30342 12.687C4.97694 13.3718 5.65733 14.0503 6.34336 14.7226C6.72518 15.0969 7.29291 15.1082 7.67098 14.7351C9.03177 13.39 10.3832 12.0354 11.7358 10.6828C11.9192 10.4994 12.0181 10.274 12.015 10.0105C12.0238 9.77267 11.9424 9.56673 11.7934 9.38584Z"
                                fill="white" />
                        </svg>
                        &nbsp;&nbsp;<span [ngStyle]="{'color':'#ffffff'}">{{ language.email.create_email }}</span>
                    </button>
                </div>
            </div>
            <div class="survey-tabs-wrapper">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-body">
                                <table class="table content_table table-responsive active-survey-data">
                                    <thead>
                                        <tr>
                                            <th>
                                                {{
                                                language.email.template_type
                                                }}
                                            </th>
                                            <th>
                                                {{
                                                language.email
                                                .header_content
                                                }}
                                            </th>
                                            <th>
                                                {{
                                                language.email.body_content
                                                }}
                                            </th>
                                            <th>
                                                {{
                                                language.email
                                                .footer_content
                                                }}
                                            </th>
                                            <th>{{ language.email.logo }}</th>
                                            <th class="text-center">
                                                {{ language.create_faq.action }}
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody *ngIf="
                                            emailData && emailData.length > 0
                                                | paginate
                                                    : {
                                                          itemsPerPage:
                                                              itemPerPage,
                                                          currentPage:
                                                              currentPageNmuber,
                                                          totalItems:
                                                              totalEmails
                                                      }
                                        ">
                                        <tr *ngFor="let item of emailData">
                                            <td class="content_wrapping" *ngIf="
                                                    item.template_type ==
                                                    'course'
                                                ">
                                                <span>{{
                                                    language.header.course
                                                    }}</span>
                                            </td>
                                            <td class="content_wrapping" *ngIf="
                                                    item.template_type ==
                                                    'updatedcourse'
                                                ">
                                                <span>{{
                                                    language.courses
                                                    .update_course
                                                    }}</span>
                                            </td>
                                            <td class="content_wrapping" *ngIf="
                                                    item.template_type ==
                                                    'instructor'
                                                ">
                                                <span>{{
                                                    language.room.instructor
                                                    }}</span>
                                            </td>
                                            <td class="content_wrapping" *ngIf="
                                                    item.template_type ==
                                                    'survey'
                                                ">
                                                <span>{{
                                                    language.Survey.survey
                                                    }}</span>
                                            </td>
                                            <td class="content_wrapping">
                                                <p [innerHTML]="
                                                        item['header_content']
                                                            .length > 0
                                                            ? (item[
                                                                  'header_content'
                                                              ]
                                                                  | slice
                                                                      : 0
                                                                      : 50) +
                                                              '...'
                                                            : item[
                                                                  'header_content'
                                                              ]
                                                    "></p>
                                            </td>
                                            <td class="content_wrapping">
                                                <p [innerHTML]="
                                                        item['template_body']
                                                            .length > 0
                                                            ? (item[
                                                                  'template_body'
                                                              ]
                                                                  | slice
                                                                      : 0
                                                                      : 50) +
                                                              '...'
                                                            : item[
                                                                  'template_body'
                                                              ]
                                                    "></p>
                                            </td>
                                            <td class="content_wrapping">
                                                <p [innerHTML]="
                                                        item['footer_content']
                                                            .length > 0
                                                            ? (item[
                                                                  'footer_content'
                                                              ]
                                                                  | slice
                                                                      : 0
                                                                      : 50) +
                                                              '...'
                                                            : item[
                                                                  'footer_content'
                                                              ]
                                                    "></p>
                                            </td>
                                            <td>
                                                <div class="email_img">
                                                    <!-- <img
                                                        onContextMenu="return false;"
                                                        [src]="item.template_logo[0]?.template_image"
                                                        alt="logo"
                                                        loading="lazy"
                                                    /> -->
                                                    <img onContextMenu="return false;"
                                                        [src]="item.template_logo[0]?.template_image ? item.template_logo[0]?.template_image : '../../../assets/img/no_image.png'"
                                                        alt="" loading="lazy">
                                                </div>
                                            </td>
                                            <td>
                                                <div class="event-action text-center">
                                                    <button mat-button [matMenuTriggerFor]="
                                                            menu
                                                        ">
                                                        <img onContextMenu="return false;"
                                                            src="../../../../assets/img/new-design/dashboard/event-action.svg"
                                                            alt="" loading="lazy" />
                                                    </button>
                                                    <mat-menu #menu="matMenu" xPosition="before">
                                                        <button mat-menu-item *ngIf="
                                                                userRole ==
                                                                'admin'
                                                            " routerLink="/web/update-email/{{
                                                                item.id
                                                            }}">
                                                            {{
                                                            language.Survey
                                                            .edit
                                                            }}
                                                        </button>
                                                        <button mat-menu-item *ngIf="
                                                                userRole ==
                                                                'admin'
                                                            " (click)="
                                                                deleteEmail(
                                                                    item.id
                                                                )
                                                            ">
                                                            {{
                                                            language.email
                                                            .delete_email
                                                            }}
                                                        </button>
                                                    </mat-menu>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <br />
                                <div class="paginationHead full_width" *ngIf="emailData?.length > 0">
                                    <div class="pagintHeadLeft">
                                        <pagination-controls (pageChange)="pageChanged($event)" (pageBoundsCorrection)="
                                                pageChanged($event)
                                            " autoHide="true" previousLabel="{{
                                                language.pagination.previous
                                            }}" nextLabel="{{
                                                language.pagination.next
                                            }}">
                                        </pagination-controls>
                                    </div>
                                    <div class="searchRefine">
                                        <span>{{
                                            language.pagination.go_to_page
                                            }}
                                            <input type="text" #cPg value="{{ currentPageNmuber }}"
                                                (change)="goToPg(cPg.value)" />
                                        </span>
                                        <span>{{
                                            language.pagination
                                            .limit_per_page
                                            }}
                                            <select #lPg value="{{ itemPerPage }}" (change)="
                                                    setItemPerPage(lPg.value)
                                                ">
                                                <option *ngFor="
                                                        let limitValue of limitPerPage
                                                    " value="{{
                                                        limitValue.value
                                                    }}">
                                                    {{ limitValue.value }}
                                                </option>
                                            </select>
                                        </span>
                                        <div class="pagintHeadRight text-center">
                                            {{
                                            (currentPageNmuber - 1) *
                                            itemPerPage +
                                            1
                                            }}
                                            {{ language.header.to }}
                                            {{
                                            currentPageNmuber *
                                            itemPerPage >
                                            totalEmails
                                            ? totalEmails
                                            : currentPageNmuber *
                                            itemPerPage
                                            }}
                                            {{ language.header.of }}
                                            {{ totalEmails | number }}
                                            {{ language.email.email_template }}
                                        </div>
                                    </div>
                                </div>
                                <div class="container">
                                    <div class="empty-data-image" *ngIf="emailData && emailData.length == 0">
                                        <!-- <img onContextMenu="return false;" src="assets/img/no-event-img.png"/><br /> -->
                                        <span>{{language.email.no_email}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
